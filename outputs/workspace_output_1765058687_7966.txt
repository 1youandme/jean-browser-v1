    pub unhealthy_containers: usize,
    pub total_cpu_usage: f64,
    pub total_memory_usage: i64,
    pub last_updated: DateTime<Utc>,
}

#[derive(Debug, Clone)]
pub struct HealthAlert {
    pub service_name: String,
    pub container_name: String,
    pub alert_type: String,
    pub message: String,
    pub severity: AlertSeverity,
    pub timestamp: DateTime<Utc>,
}

#[derive(Debug, Clone)]
pub enum AlertSeverity {
    Info,
    Warning,
    Critical,
}

// Utility functions

fn calculate_cpu_usage(stats: &bollard::models::Stats) -> f64 {
    // CPU usage calculation based on Docker stats
    // This is a simplified version - real implementation would need proper delta calculation
    
    if let (Some(cpu_delta), Some(system_delta)) = (stats.cpu_stats.cpu_usage, stats.cpu_stats.system_cpu_usage) {
        if let Some(pre_cpu) = &stats.precpu_stats {
            if let (Some(pre_cpu_usage), Some(pre_system_cpu_usage)) = 
                (pre_cpu.cpu_usage, pre_cpu.system_cpu_usage) {
                
                let cpu_percent = ((cpu_delta - pre_cpu_usage) as f64 / 
                    ((system_delta - pre_system_cpu_usage) as f64)) * 
                    stats.cpu_stats.online_cpus.unwrap_or(1) as f64 * 100.0;
                
                return cpu_percent;
            }
        }
    }
    
    0.0
}

// Add missing state variant
impl ContainerState {
    pub const Unknown: Self = ContainerState::Unknown;
}