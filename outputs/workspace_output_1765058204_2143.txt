/**
 * Enhanced Alibaba/1688 Product Scraper
 * Comprehensive product extraction with smart categorization and pricing analysis
 */

const puppeteer = require('puppeteer-extra');
const StealthPlugin = require('puppeteer-extra-plugin-stealth');
const { Cluster } = require('puppeteer-cluster');
const fs = require('fs').promises;
const path = require('path');
const crypto = require('crypto');
const { exec } = require('child_process');
const util = require('util');
const execPromise = util.promisify(exec);

puppeteer.use(StealthPlugin());

class ProductScraper {
    constructor(options = {}) {
        this.options = {
            concurrency: 3,
            timeout: 30000,
            headless: true,
            userDataDir: './scraper_data',
            screenshots: true,
            debug: false,
            outputDir: './scraped_products',
            ...options
        };
        
