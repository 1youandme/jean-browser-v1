{'role': 'assistant', 'content': '\n<function_calls>\n<create-file file_path="src/App.tsx">\nimport React, { useState, useEffect } from \'react\';\nimport { Header } from \'./components/Header\';\nimport { TabsStrip } from \'./components/TabsStrip\';\nimport { SplitView } from \'./components/SplitView\';\nimport { JeanAssistant } from \'./components/JeanAssistant\';\nimport { BrowserView } from \'./components/BrowserView\';\nimport { LocalFileBrowser } from \'./components/LocalFileBrowser\';\nimport { ProxyPanel } from \'./components/ProxyPanel\';\nimport { MobileFrame } from \'./components/MobileFrame\';\nimport { useTabs } from \'./hooks/useTabs\';\nimport { useJeanAI } from \'./hooks/useJeanAI\';\nimport { Tab, JeanAction } from \'./types\';\n\ntype ViewType = \'local\' | \'proxy\' | \'web\' | \'mobile\';\n\ninterface SplitPane {\n  id: string;\n  viewType: ViewType;\n  tabId?: string;\n}\n\nexport default function App() {\n  const [isRTL, setIsRTL] = useState(false);\n  const [showJeanPanel, setShowJeanPanel] = useState(false);\n  const [splitPanes, setSplitPanes] = useState<SplitPane[]>([\n    { id: \'pane-1\', viewType: \'web\' }\n  ]);\n  \n  const { \n    tabs, \n    activeTabId, \n    createTab, \n    closeTab, \n    setActiveTab, \n    updateTab \n  } = useTabs();\n  \n  const { \n    sendMessage, \n    conversation, \n    isTyping,\n    executeAction \n  } = useJeanAI();\n\n  // Handle Jean AI actions\n  const handleJeanAction = async (action: JeanAction) => {\n    try {\n      await executeAction(action);\n    } catch (error) {\n      console.error(\'Failed to execute Jean action:\', error);\n    }\n  };\n\n  // Get the active tab for a specific view type\n  const getActiveTabForView = (viewType: ViewType) => {\n    return tabs.find(tab => tab.type === viewType && tab.id === activeTabId);\n  };\n\n  const renderPaneContent = (pane: SplitPane) => {\n    const activeTab = pane.tabId ? tabs.find(tab => tab.id === pane.tabId) : null;\n    \n    switch (pane.viewType) {\n      case \'local\':\n        return <LocalFileBrowser tab={activeTab} />;\n      case \'proxy\':\n        return <ProxyPanel tab={activeTab} />;\n      case \'web\':\n        return <BrowserView tab={activeTab} />;\n      case \'mobile\':\n        return <MobileFrame tab={activeTab} />;\n      default:\n        return <BrowserView tab={activeTab} />;\n    }\n  };\n\n  return (\n    <div className={`h-screen flex flex-col bg-gray-50 ${isRTL ? \'rtl\' : \'ltr\'}`} dir={isRTL ? \'rtl\' : \'ltr\'}>\n      {/* Header with unified controls */}\n      <Header\n        tabs={tabs}\n        activeTabId={activeTabId}\n        onTabSelect={setActiveTab}\n        onTabClose={closeTab}\n        onJeanToggle={() => setShowJeanPanel(!showJeanPanel)}\n        onAddressChange={(address) => {\n          // Handle address bar changes\n          console.log(\'Address changed:\', address);\n        }}\n        isRTL={isRTL}\n        onRTLToggle={() => setIsRTL(!isRTL)}\n      />\n\n      {/* Tabs Strip */}\n      <TabsStrip\n        tabs={tabs}\n        activeTabId={activeTabId}\n        onTabSelect={setActiveTab}\n        onTabClose={closeTab}\n        onCreateTab={createTab}\n        isRTL={isRTL}\n      />\n\n      {/* Main Content Area */}\n      <div className="flex-1 flex relative">\n        {/* Split View */}\n        <div className={`flex-1 ${showJeanPanel ? \'w-3/4\' : \'w-full\'}`}>\n          <SplitView\n            panes={splitPanes}\n            onPaneAdd={(viewType) => {\n              const newPane: SplitPane = {\n                id: `pane-${Date.now()}`,\n                viewType\n              };\n              setSplitPanes([...splitPanes, newPane]);\n            }}\n            onPaneRemove={(paneId) => {\n              setSplitPanes(splitPanes.filter(p => p.id !== paneId));\n            }}\n            onPaneChange={(paneId, viewType) => {\n              setSplitPanes(splitPanes.map(p => \n                p.id === paneId ? { ...p, viewType } : p\n              ));\n            }}\n          >\n            {splitPanes.map(pane => (\n              <div key={pane.id} className="border border-gray-200">\n                {renderPaneContent(pane)}\n              </div>\n            ))}\n          </SplitView>\n        </div>\n\n        {/* Jean Assistant Panel */}\n        {showJeanPanel && (\n          <div className="w-1/4 border-l border-gray-200">\n            <JeanAssistant\n              conversation={conversation}\n              isTyping={isTyping}\n              onSendMessage={sendMessage}\n              onAction={handleJeanAction}\n              onClose={() => setShowJeanPanel(false)}\n              activeTab={getActiveTabForView(\'web\') || tabs[0]}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n</create-file>\n</function_calls>'}