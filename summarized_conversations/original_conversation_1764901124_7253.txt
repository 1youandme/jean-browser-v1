{'role': 'assistant', 'content': '\n<function_calls>\n<create-file file_path="src/components/SplitView.tsx">\nimport React, { useState } from \'react\';\nimport { Plus, X, Layout, Save } from \'lucide-react\';\nimport { ViewType, SplitPane, Workspace } from \'../types\';\n\ninterface SplitViewProps {\n  panes: SplitPane[];\n  onPaneAdd: (viewType: ViewType) => void;\n  onPaneRemove: (paneId: string) => void;\n  onPaneChange: (paneId: string, viewType: ViewType) => void;\n  children: React.ReactNode;\n}\n\nexport const SplitView: React.FC<SplitViewProps> = ({\n  panes,\n  onPaneAdd,\n  onPaneRemove,\n  onPaneChange,\n  children,\n}) => {\n  const [layoutDirection, setLayoutDirection] = useState<\'horizontal\' | \'vertical\'>(\'horizontal\');\n  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);\n\n  const getPaneStyle = () => {\n    if (panes.length === 1) return \'w-full h-full\';\n    \n    if (layoutDirection === \'horizontal\') {\n      return `flex-1 h-full border-r border-gray-200 last:border-r-0`;\n    } else {\n      return `w-full flex-1 border-b border-gray-200 last:border-b-0`;\n    }\n  };\n\n  const containerClass = layoutDirection === \'horizontal\' ? \'flex-row\' : \'flex-col\';\n\n  return (\n    <div className="flex-1 flex relative">\n      {/* Main Split Container */}\n      <div className={`flex flex-1 ${containerClass}`}>\n        {React.Children.map(children, (child, index) => (\n          <div key={panes[index]?.id} className={getPaneStyle()}>\n            {/* Pane Controls */}\n            <div className="h-8 bg-gray-50 border-b border-gray-200 flex items-center justify-between px-2">\n              <div className="flex items-center gap-2">\n                <select\n                  value={panes[index]?.viewType || \'web\'}\n                  onChange={(e) => onPaneChange(panes[index]?.id || \'\', e.target.value as ViewType)}\n                  className="text-xs px-2 py-1 border border-gray-300 rounded"\n                >\n                  <option value="web">Web</option>\n                  <option value="local">Local</option>\n                  <option value="proxy">Proxy</option>\n                  <option value="mobile">Mobile</option>\n                </select>\n              </div>\n              \n              <div className="flex items-center gap-1">\n                {panes.length > 1 && (\n                  <button\n                    onClick={() => onPaneRemove(panes[index]?.id || \'\')}\n                    className="p-1 hover:bg-gray-200 rounded"\n                    title="Remove pane"\n                  >\n                    <X className="w-3 h-3" />\n                  </button>\n                )}\n              </div>\n            </div>\n            \n            {/* Pane Content */}\n            <div className="flex-1 overflow-hidden">\n              {child}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Split Controls Toolbar */}\n      <div className="absolute top-4 right-4 bg-white rounded-lg shadow-lg border border-gray-200 p-2">\n        <div className="flex flex-col gap-2">\n          {/* Add Pane */}\n          <div className="relative group">\n            <button\n              className="p-2 hover:bg-gray-100 rounded transition-colors"\n              title="Add pane"\n            >\n              <Plus className="w-4 h-4" />\n            </button>\n            \n            {/* Dropdown for pane types */}\n            <div className="absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 min-w-[120px]">\n              {([\'web\', \'local\', \'proxy\', \'mobile\'] as ViewType[]).map(type => (\n                <button\n                  key={type}\n                  onClick={() => onPaneAdd(type)}\n                  className="block w-full text-left px-3 py-2 text-sm hover:bg-gray-100 capitalize first:rounded-t-lg last:rounded-b-lg"\n                >\n                  {type}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Layout Direction */}\n          <button\n            onClick={() => setLayoutDirection(layoutDirection === \'horizontal\' ? \'vertical\' : \'horizontal\')}\n            className="p-2 hover:bg-gray-100 rounded transition-colors"\n            title="Change layout direction"\n          >\n            <Layout className="w-4 h-4" />\n          </button>\n\n          {/* Workspace Management */}\n          <div className="relative">\n            <button\n              onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}\n              className="p-2 hover:bg-gray-100 rounded transition-colors"\n              title="Workspace management"\n            >\n              <Save className="w-4 h-4" />\n            </button>\n\n            {showWorkspaceMenu && (\n              <div className="absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[150px]">\n                <button\n                  onClick={() => {\n                    // Save current workspace\n                    console.log(\'Save workspace\');\n                    setShowWorkspaceMenu(false);\n                  }}\n                  className="block w-full text-left px-3 py-2 text-sm hover:bg-gray-100 first:rounded-t-lg"\n                >\n                  Save Workspace\n                </button>\n                <button\n                  onClick={() => {\n                    // Load workspace\n                    console.log(\'Load workspace\');\n                    setShowWorkspaceMenu(false);\n                  }}\n                  className="block w-full text-left px-3 py-2 text-sm hover:bg-gray-100"\n                >\n                  Load Workspace\n                </button>\n                <button\n                  onClick={() => {\n                    // Manage workspaces\n                    console.log(\'Manage workspaces\');\n                    setShowWorkspaceMenu(false);\n                  }}\n                  className="block w-full text-left px-3 py-2 text-sm hover:bg-gray-100 last:rounded-b-lg"\n                >\n                  Manage Workspaces\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Pane Counter */}\n      <div className="absolute bottom-4 left-4 bg-black/50 text-white text-xs px-2 py-1 rounded">\n        {panes.length} pane{panes.length !== 1 ? \'s\' : \'\'}\n      </div>\n    </div>\n  );\n};\n</create-file>\n</function_calls>'}