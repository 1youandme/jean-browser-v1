{'role': 'assistant', 'content': '\n<function_calls>\n<create-file file_path="src/services/ecommerce.ts">\n// E-commerce Service Interface and Implementation\nexport interface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  currency: string;\n  category: string;\n  imageUrl?: string;\n  inStock: boolean;\n  rating: number;\n  reviews: number;\n  seller: {\n    id: string;\n    name: string;\n    rating: number;\n  };\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface CartItem extends Product {\n  quantity: number;\n  addedAt: Date;\n}\n\nexport interface Order {\n  id: string;\n  items: CartItem[];\n  total: number;\n  currency: string;\n  status: \'pending\' | \'processing\' | \'shipped\' | \'delivered\' | \'cancelled\';\n  shippingAddress: Address;\n  paymentMethod: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Address {\n  street: string;\n  city: string;\n  state: string;\n  zipCode: string;\n  country: string;\n}\n\nexport interface EcommerceService {\n  // Product management\n  searchProducts: (query: string, category?: string) => Promise<Product[]>;\n  getProduct: (id: string) => Promise<Product>;\n  getProductsByCategory: (category: string) => Promise<Product[]>;\n  getFeaturedProducts: () => Promise<Product[]>;\n  \n  // Cart management\n  getCart: () => Promise<CartItem[]>;\n  addToCart: (productId: string, quantity: number) => Promise<void>;\n  removeFromCart: (productId: string) => Promise<void>;\n  updateCartQuantity: (productId: string, quantity: number) => Promise<void>;\n  clearCart: () => Promise<void>;\n  \n  // Order management\n  createOrder: (shippingAddress: Address, paymentMethod: string) => Promise<Order>;\n  getOrders: () => Promise<Order[]>;\n  getOrder: (id: string) => Promise<Order>;\n  cancelOrder: (id: string) => Promise<void>;\n  trackOrder: (id: string) => Promise<{ status: string; estimatedDelivery?: Date }>;\n  \n  // Reviews\n  getProductReviews: (productId: string) => Promise<Review[]>;\n  submitReview: (productId: string, rating: number, comment: string) => Promise<void>;\n}\n\nexport interface Review {\n  id: string;\n  productId: string;\n  userId: string;\n  userName: string;\n  rating: number;\n  comment: string;\n  createdAt: Date;\n}\n\nclass EcommerceServiceImpl implements EcommerceService {\n  private baseUrl: string;\n\n  constructor(baseUrl: string = \'http://localhost:8080\') {\n    this.baseUrl = baseUrl;\n  }\n\n  async searchProducts(query: string, category?: string): Promise<Product[]> {\n    const params = new URLSearchParams({ query });\n    if (category) params.append(\'category\', category);\n    \n    const response = await fetch(`${this.baseUrl}/api/ecommerce/products/search?${params}`);\n    if (!response.ok) throw new Error(\'Failed to search products\');\n    return response.json();\n  }\n\n  async getProduct(id: string): Promise<Product> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/products/${id}`);\n    if (!response.ok) throw new Error(\'Failed to get product\');\n    return response.json();\n  }\n\n  async getProductsByCategory(category: string): Promise<Product[]> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/products?category=${category}`);\n    if (!response.ok) throw new Error(\'Failed to get products by category\');\n    return response.json();\n  }\n\n  async getFeaturedProducts(): Promise<Product[]> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/products/featured`);\n    if (!response.ok) throw new Error(\'Failed to get featured products\');\n    return response.json();\n  }\n\n  async getCart(): Promise<CartItem[]> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/cart`);\n    if (!response.ok) throw new Error(\'Failed to get cart\');\n    return response.json();\n  }\n\n  async addToCart(productId: string, quantity: number): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/cart`, {\n      method: \'POST\',\n      headers: { \'Content-Type\': \'application/json\' },\n      body: JSON.stringify({ productId, quantity }),\n    });\n    if (!response.ok) throw new Error(\'Failed to add to cart\');\n  }\n\n  async removeFromCart(productId: string): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/cart/${productId}`, {\n      method: \'DELETE\',\n    });\n    if (!response.ok) throw new Error(\'Failed to remove from cart\');\n  }\n\n  async updateCartQuantity(productId: string, quantity: number): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/cart/${productId}`, {\n      method: \'PUT\',\n      headers: { \'Content-Type\': \'application/json\' },\n      body: JSON.stringify({ quantity }),\n    });\n    if (!response.ok) throw new Error(\'Failed to update cart quantity\');\n  }\n\n  async clearCart(): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/cart`, {\n      method: \'DELETE\',\n    });\n    if (!response.ok) throw new Error(\'Failed to clear cart\');\n  }\n\n  async createOrder(shippingAddress: Address, paymentMethod: string): Promise<Order> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/orders`, {\n      method: \'POST\',\n      headers: { \'Content-Type\': \'application/json\' },\n      body: JSON.stringify({ shippingAddress, paymentMethod }),\n    });\n    if (!response.ok) throw new Error(\'Failed to create order\');\n    return response.json();\n  }\n\n  async getOrders(): Promise<Order[]> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/orders`);\n    if (!response.ok) throw new Error(\'Failed to get orders\');\n    return response.json();\n  }\n\n  async getOrder(id: string): Promise<Order> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/orders/${id}`);\n    if (!response.ok) throw new Error(\'Failed to get order\');\n    return response.json();\n  }\n\n  async cancelOrder(id: string): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/orders/${id}/cancel`, {\n      method: \'POST\',\n    });\n    if (!response.ok) throw new Error(\'Failed to cancel order\');\n  }\n\n  async trackOrder(id: string): Promise<{ status: string; estimatedDelivery?: Date }> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/orders/${id}/track`);\n    if (!response.ok) throw new Error(\'Failed to track order\');\n    return response.json();\n  }\n\n  async getProductReviews(productId: string): Promise<Review[]> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/products/${productId}/reviews`);\n    if (!response.ok) throw new Error(\'Failed to get product reviews\');\n    return response.json();\n  }\n\n  async submitReview(productId: string, rating: number, comment: string): Promise<void> {\n    const response = await fetch(`${this.baseUrl}/api/ecommerce/products/${productId}/reviews`, {\n      method: \'POST\',\n      headers: { \'Content-Type\': \'application/json\' },\n      body: JSON.stringify({ rating, comment }),\n    });\n    if (!response.ok) throw new Error(\'Failed to submit review\');\n  }\n}\n\nexport const ecommerceService = new EcommerceServiceImpl();\nexport const useEcommerceService = () => ecommerceService;\n</create-file>\n</function_calls>'}