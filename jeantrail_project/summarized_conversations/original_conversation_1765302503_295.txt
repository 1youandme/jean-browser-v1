{'role': 'assistant', 'content': '\n<function_calls>\n<create-file file_path="src/pages/Browser.tsx">\nimport React, { useState, useEffect } from \'react\';\nimport { useNavigate } from \'react-router-dom\';\nimport { Button } from \'@/components/ui/Button\';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \'@/components/ui/Card\';\nimport { Input } from \'@/components/ui/Input\';\nimport { useUIStore } from \'@/store\';\nimport { \n  Globe, \n  Home, \n  Shield, \n  Smartphone, \n  ArrowLeft, \n  ArrowRight, \n  RefreshCw,\n  Bookmark,\n  Search,\n  Plus,\n  Grid,\n  List,\n  Settings\n} from \'lucide-react\';\nimport { JeanAvatar3D } from \'@/components/JeanAvatar3D\';\nimport { HeaderRedesigned } from \'@/components/HeaderRedesigned\';\n\nexport const Browser: React.FC = () => {\n  const navigate = useNavigate();\n  const { language, sidebarOpen } = useUIStore();\n  \n  const [activeStrip, setActiveStrip] = useState<\'local\' | \'proxy\' | \'web\' | \'mobile\'>(\'web\');\n  const [url, setUrl] = useState(\'https://www.google.com\');\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [viewMode, setViewMode] = useState<\'grid\' | \'list\'>(\'grid\');\n  const [tabs, setTabs] = useState([\n    { id: 1, title: \'Google\', url: \'https://www.google.com\', active: true },\n    { id: 2, title: \'JeanTrail OS\', url: \'https://jeantrail.com\', active: false },\n  ]);\n\n  const isRTL = language === \'ar\';\n\n  const strips = [\n    {\n      id: \'local\',\n      title: isRTL ? \'الجهاز المحلي\' : \'Local Device\',\n      icon: <Home className="h-5 w-5" />,\n      description: isRTL ? \'تصفح الملفات المحلية\' : \'Browse local files\',\n      color: \'from-green-500 to-emerald-600\',\n    },\n    {\n      id: \'proxy\',\n      title: isRTL ? \'شبكة الوكيل\' : \'Proxy Network\',\n      icon: <Shield className="h-5 w-5" />,\n      description: isRTL ? \'تصفح آمن وخاص\' : \'Secure & private browsing\',\n      color: \'from-purple-500 to-indigo-600\',\n    },\n    {\n      id: \'web\',\n      title: isRTL ? \'الويب العادي\' : \'Standard Web\',\n      icon: <Globe className="h-5 w-5" />,\n      description: isRTL ? \'تصفح الويب التقليدي\' : \'Traditional web browsing\',\n      color: \'from-blue-500 to-cyan-600\',\n    },\n    {\n      id: \'mobile\',\n      title: isRTL ? \'محاكي الجوال\' : \'Mobile Emulator\',\n      icon: <Smartphone className="h-5 w-5" />,\n      description: isRTL ? \'تجربة الجوال\' : \'Mobile experience\',\n      color: \'from-orange-500 to-red-600\',\n    },\n  ];\n\n  const handleNavigation = (direction: \'back\' | \'forward\' | \'refresh\') => {\n    // Handle browser navigation\n    console.log(`Navigating ${direction}`);\n  };\n\n  const handleTabSwitch = (tabId: number) => {\n    setTabs(tabs.map(tab => ({\n      ...tab,\n      active: tab.id === tabId\n    })));\n  };\n\n  const handleNewTab = () => {\n    const newTab = {\n      id: tabs.length + 1,\n      title: isRTL ? \'علامة تبويب جديدة\' : \'New Tab\',\n      url: \'about:blank\',\n      active: true,\n    };\n    setTabs([...tabs.map(tab => ({ ...tab, active: false })), newTab]);\n  };\n\n  const handleStripChange = (stripId: typeof activeStrip) => {\n    setActiveStrip(stripId);\n  };\n\n  const currentStrip = strips.find(s => s.id === activeStrip);\n\n  if (isFullscreen) {\n    return (\n      <div className="h-screen flex flex-col bg-gray-900">\n        {/* Fullscreen Header */}\n        <div className="flex items-center justify-between p-2 bg-gray-800 border-b border-gray-700">\n          <div className="flex items-center space-x-2">\n            <Button size="sm" variant="ghost" onClick={() => handleNavigation(\'back\')}>\n              <ArrowLeft className="h-4 w-4" />\n            </Button>\n            <Button size="sm" variant="ghost" onClick={() => handleNavigation(\'forward\')}>\n              <ArrowRight className="h-4 w-4" />\n            </Button>\n            <Button size="sm" variant="ghost" onClick={() => handleNavigation(\'refresh\')}>\n              <RefreshCw className="h-4 w-4" />\n            </Button>\n            <Input\n              value={url}\n              onChange={(e) => setUrl(e.target.value)}\n              className="w-96 h-8"\n              placeholder={isRTL ? \'أدخل URL...\' : \'Enter URL...\'}\n            />\n          </div>\n          <Button size="sm" variant="ghost" onClick={() => setIsFullscreen(false)}>\n            <Grid className="h-4 w-4" />\n          </Button>\n        </div>\n        \n        {/* Browser Content */}\n        <div className="flex-1 bg-white">\n          <iframe\n            src={url}\n            className="w-full h-full border-0"\n            title="Browser"\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen bg-gray-50 dark:bg-gray-900 ${isRTL ? \'rtl\' : \'ltr\'}`}>\n      {/* Header */}\n      <HeaderRedesigned />\n      \n      <div className="flex h-screen pt-16">\n        {/* Sidebar */}\n        {sidebarOpen && (\n          <div className="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4">\n            <h3 className="font-semibold text-gray-900 dark:text-white mb-4">\n              {isRTL ? \'بيئات التصفح\' : \'Browsing Environments\'}\n            </h3>\n            \n            <div className="space-y-2">\n              {strips.map((strip) => (\n                <Button\n                  key={strip.id}\n                  variant={activeStrip === strip.id ? \'default\' : \'ghost\'}\n                  className={`w-full justify-start h-auto p-3 ${\n                    activeStrip === strip.id \n                      ? `bg-gradient-to-r ${strip.color} text-white` \n                      : \'hover:bg-gray-100 dark:hover:bg-gray-700\'\n                  }`}\n                  onClick={() => handleStripChange(strip.id as typeof activeStrip)}\n                >\n                  <div className="flex items-center space-x-3">\n                    {strip.icon}\n                    <div>\n                      <div className="font-medium">{strip.title}</div>\n                      <div className="text-xs opacity-75">{strip.description}</div>\n                    </div>\n                  </div>\n                </Button>\n              ))}\n            </div>\n            \n            <div className="mt-6 space-y-2">\n              <Button variant="ghost" className="w-full justify-start">\n                <Bookmark className="mr-2 h-4 w-4" />\n                {isRTL ? \'الإشارات المرجعية\' : \'Bookmarks\'}\n              </Button>\n              <Button variant="ghost" className="w-full justify-start">\n                <Search className="mr-2 h-4 w-4" />\n                {isRTL ? \'السجل\' : \'History\'}\n              </Button>\n              <Button variant="ghost" className="w-full justify-start">\n                <Settings className="mr-2 h-4 w-4" />\n                {isRTL ? \'الإعدادات\' : \'Settings\'}\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {/* Main Content */}\n        <div className="flex-1 flex flex-col">\n          {/* Browser Toolbar */}\n          <div className="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4">\n            <div className="flex items-center justify-between">\n              <div className="flex items-center space-x-3">\n                <Button size="sm" variant="outline" onClick={() => handleNavigation(\'back\')}>\n                  <ArrowLeft className="h-4 w-4" />\n                </Button>\n                <Button size="sm" variant="outline" onClick={() => handleNavigation(\'forward\')}>\n                  <ArrowRight className="h-4 w-4" />\n                </Button>\n                <Button size="sm" variant="outline" onClick={() => handleNavigation(\'refresh\')}>\n                  <RefreshCw className="h-4 w-4" />\n                </Button>\n                \n                <Input\n                  value={url}\n                  onChange={(e) => setUrl(e.target.value)}\n                  className="w-96"\n                  placeholder={isRTL ? \'أدخل URL أو ابحث...\' : \'Enter URL or search...\'}\n                  startIcon={<Search className="h-4 w-4 text-gray-400" />}\n                />\n              </div>\n              \n              <div className="flex items-center space-x-2">\n                <Button size="sm" variant="outline" onClick={handleNewTab}>\n                  <Plus className="h-4 w-4" />\n                </Button>\n                <Button \n                  size="sm" \n                  variant="outline" \n                  onClick={() => setViewMode(viewMode === \'grid\' ? \'list\' : \'grid\')}\n                >\n                  {viewMode === \'grid\' ? <List className="h-4 w-4" /> : <Grid className="h-4 w-4" />}\n                </Button>\n                <Button size="sm" variant="jean" onClick={() => setIsFullscreen(true)}>\n                  <Globe className="h-4 w-4" />\n                </Button>\n              </div>\n            </div>\n            \n            {/* Tabs */}\n            <div className="flex items-center space-x-1 mt-3 overflow-x-auto">\n              {tabs.map((tab) => (\n                <Button\n                  key={tab.id}\n                  variant={tab.active ? \'default\' : \'ghost\'}\n                  size="sm"\n                  className={`flex items-center space-x-2 min-w-max ${\n                    tab.active ? \'bg-blue-500 text-white\' : \'hover:bg-gray-100 dark:hover:bg-gray-700\'\n                  }`}\n                  onClick={() => handleTabSwitch(tab.id)}\n                >\n                  <Globe className="h-3 w-3" />\n                  <span className="truncate max-w-32">{tab.title}</span>\n                </Button>\n              ))}\n            </div>\n          </div>\n\n          {/* Browser Content Area */}\n          <div className="flex-1 bg-gray-100 dark:bg-gray-900 p-4">\n            {currentStrip && (\n              <div className="h-full">\n                <div className={`bg-gradient-to-r ${currentStrip.color} text-white p-4 rounded-t-lg`}>\n                  <div className="flex items-center justify-between">\n                    <div className="flex items-center space-x-3">\n                      {currentStrip.icon}\n                      <div>\n                        <h3 className="font-semibold text-lg">{currentStrip.title}</h3>\n                        <p className="text-sm opacity-90">{currentStrip.description}</p>\n                      </div>\n                    </div>\n                    <JeanAvatar3D />\n                  </div>\n                </div>\n                \n                <div className="bg-white dark:bg-gray-800 p-6 rounded-b-lg shadow-lg h-full">\n                  {activeStrip === \'local\' && (\n                    <div className="text-center py-12">\n                      <Home className="h-16 w-16 text-gray-400 mx-auto mb-4" />\n                      <h3 className="text-xl font-semibold text-gray-900 dark:text-white mb-2">\n                        {isRTL ? \'الجهاز المحلي\' : \'Local Device\'}\n                      </h3>\n                      <p className="text-gray-600 dark:text-gray-400 mb-6">\n                        {isRTL ? \'تصفح الملفات والمجلدات المحلية\' : \'Browse local files and folders\'}\n                      </p>\n                      <Button onClick={() => navigate(\'/local\')}>\n                        {isRTL ? \'فتح متصفح الملفات\' : \'Open File Browser\'}\n                      </Button>\n                    </div>\n                  )}\n                  \n                  {activeStrip === \'proxy\' && (\n                    <div className="text-center py-12">\n                      <Shield className="h-16 w-16 text-gray-400 mx-auto mb-4" />\n                      <h3 className="text-xl font-semibold text-gray-900 dark:text-white mb-2">\n                        {isRTL ? \'شبكة الوكيل\' : \'Proxy Network\'}\n                      </h3>\n                      <p className="text-gray-600 dark:text-gray-400 mb-6">\n                        {isRTL ? \'تصفح آمن وخاص عبر شبكة الوكيل\' : \'Secure and private browsing via proxy network\'}\n                      </p>\n                      <Button onClick={() => navigate(\'/proxy\')}>\n                        {isRTL ? \'فتح شبكة الوكيل\' : \'Open Proxy Network\'}\n                      </Button>\n                    </div>\n                  )}\n                  \n                  {activeStrip === \'web\' && (\n                    <div className="h-full">\n                      <iframe\n                        src={url}\n                        className="w-full h-full border rounded-lg"\n                        title="Web Browser"\n                      />\n                    </div>\n                  )}\n                  \n                  {activeStrip === \'mobile\' && (\n                    <div className="text-center py-12">\n                      <Smartphone className="h-16 w-16 text-gray-400 mx-auto mb-4" />\n                      <h3 className="text-xl font-semibold text-gray-900 dark:text-white mb-2">\n                        {isRTL ? \'محاكي الجوال\' : \'Mobile Emulator\'}\n                      </h3>\n                      <p className="text-gray-600 dark:text-gray-400 mb-6">\n                        {isRTL ? \'جرب تطبيقات الجوال وصفحات الويب المحسنة للجوال\' : \'Experience mobile apps and mobile-optimized websites\'}\n                      </p>\n                      <Button onClick={() => navigate(\'/mobile\')}>\n                        {isRTL ? \'فتح محاكي الجوال\' : \'Open Mobile Emulator\'}\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n</create-file>\n</function_calls>'}