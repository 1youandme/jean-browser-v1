{'role': 'assistant', 'content': '\n<function_calls>\n<create-file file_path="src/pages/Settings.tsx">\nimport React, { useState } from \'react\';\nimport { useUIStore } from \'@/store\';\nimport { useAuthStore } from \'@/store\';\nimport { Button } from \'@/components/ui/Button\';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \'@/components/ui/Card\';\nimport { Input } from \'@/components/ui/Input\';\nimport { Modal } from \'@/components/ui/Modal\';\nimport { \n  Settings as SettingsIcon,\n  User,\n  Globe,\n  Palette,\n  Shield,\n  Bell,\n  Database,\n  Download,\n  Upload,\n  Trash2,\n  Eye,\n  EyeOff,\n  Save,\n  RotateCcw\n} from \'lucide-react\';\n\nexport const Settings: React.FC = () => {\n  const { \n    theme, \n    language, \n    setTheme, \n    setLanguage, \n    notifications,\n    removeNotification \n  } = useUIStore();\n  \n  const { user, logout } = useAuthStore();\n  \n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [currentPassword, setCurrentPassword] = useState(\'\');\n  const [newPassword, setNewPassword] = useState(\'\');\n  const [confirmPassword, setConfirmPassword] = useState(\'\');\n  const [showPasswords, setShowPasswords] = useState(false);\n\n  const isRTL = language === \'ar\';\n\n  const themes = [\n    { value: \'light\', label: isRTL ? \'ÙØ§ØªØ­\' : \'Light\', icon: <Sun className="h-4 w-4" /> },\n    { value: \'dark\', label: isRTL ? \'Ø¯Ø§ÙƒÙ†\' : \'Dark\', icon: <Moon className="h-4 w-4" /> },\n    { value: \'auto\', label: isRTL ? \'ØªÙ„Ù‚Ø§Ø¦ÙŠ\' : \'Auto\', icon: <Monitor className="h-4 w-4" /> },\n  ];\n\n  const languages = [\n    { value: \'en\', label: \'English\', flag: \'ğŸ‡ºğŸ‡¸\' },\n    { value: \'ar\', label: \'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©\', flag: \'ğŸ‡¸ğŸ‡¦\' },\n  ];\n\n  const handlePasswordChange = async () => {\n    if (newPassword !== confirmPassword) {\n      return;\n    }\n    \n    // API call to change password\n    setShowPasswordModal(false);\n    setCurrentPassword(\'\');\n    setNewPassword(\'\');\n    setConfirmPassword(\'\');\n  };\n\n  const handleAccountDelete = async () => {\n    // API call to delete account\n    logout();\n  };\n\n  const exportData = () => {\n    const data = {\n      user,\n      settings: { theme, language },\n      exportDate: new Date().toISOString(),\n    };\n    \n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: \'application/json\' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\'a\');\n    a.href = url;\n    a.download = \'jeantrail-data.json\';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className={`min-h-screen bg-gray-50 dark:bg-gray-900 ${isRTL ? \'rtl\' : \'ltr\'}`}>\n      <div className="container mx-auto px-4 py-8">\n        {/* Header */}\n        <div className="mb-8">\n          <h1 className="text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3">\n            <SettingsIcon className="h-8 w-8" />\n            {isRTL ? \'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª\' : \'Settings\'}\n          </h1>\n          <p className="text-gray-600 dark:text-gray-400 mt-2">\n            {isRTL ? \'ØªØ®ØµÙŠØµ ØªØ¬Ø±Ø¨Ø© JeanTrail OS\' : \'Customize your JeanTrail OS experience\'}\n          </p>\n        </div>\n\n        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">\n          {/* Profile Section */}\n          <div className="lg:col-span-2 space-y-6">\n            <Card>\n              <CardHeader>\n                <CardTitle className="flex items-center gap-2">\n                  <User className="h-5 w-5" />\n                  {isRTL ? \'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ\' : \'Profile\'}\n                </CardTitle>\n                <CardDescription>\n                  {isRTL ? \'Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ\' : \'Manage your account information\'}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className="space-y-4">\n                <div className="flex items-center space-x-4">\n                  <div className="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold">\n                    {user?.email?.charAt(0).toUpperCase() || \'U\'}\n                  </div>\n                  <div>\n                    <h3 className="font-semibold text-gray-900 dark:text-white">\n                      {user?.name || user?.email}\n                    </h3>\n                    <p className="text-sm text-gray-600 dark:text-gray-400">{user?.email}</p>\n                  </div>\n                </div>\n                \n                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">\n                  <Input\n                    label={isRTL ? \'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„\' : \'Full Name\'}\n                    placeholder={isRTL ? \'Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ\' : \'Enter your name\'}\n                    defaultValue={user?.name || \'\'}\n                  />\n                  <Input\n                    label={isRTL ? \'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\' : \'Email\'}\n                    type="email"\n                    value={user?.email || \'\'}\n                    disabled\n                  />\n                </div>\n\n                <div className="flex gap-3">\n                  <Button onClick={() => setShowPasswordModal(true)}>\n                    <Shield className="mr-2 h-4 w-4" />\n                    {isRTL ? \'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\' : \'Change Password\'}\n                  </Button>\n                  <Button variant="outline">\n                    <Save className="mr-2 h-4 w-4" />\n                    {isRTL ? \'Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª\' : \'Save Changes\'}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Appearance Section */}\n            <Card>\n              <CardHeader>\n                <CardTitle className="flex items-center gap-2">\n                  <Palette className="h-5 w-5" />\n                  {isRTL ? \'Ø§Ù„Ù…Ø¸Ù‡Ø±\' : \'Appearance\'}\n                </CardTitle>\n                <CardDescription>\n                  {isRTL ? \'ØªØ®ØµÙŠØµ Ø´ÙƒÙ„ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\' : \'Customize the user interface appearance\'}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className="space-y-6">\n                {/* Theme Selection */}\n                <div>\n                  <label className="text-sm font-medium mb-3 block">\n                    {isRTL ? \'Ø§Ù„Ù…Ø¸Ù‡Ø±\' : \'Theme\'}\n                  </label>\n                  <div className="grid grid-cols-3 gap-3">\n                    {themes.map((t) => (\n                      <Button\n                        key={t.value}\n                        variant={theme === t.value ? \'default\' : \'outline\'}\n                        onClick={() => setTheme(t.value as any)}\n                        className="justify-start"\n                      >\n                        {t.icon}\n                        <span className="ml-2">{t.label}</span>\n                      </Button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Language Selection */}\n                <div>\n                  <label className="text-sm font-medium mb-3 block">\n                    {isRTL ? \'Ø§Ù„Ù„ØºØ©\' : \'Language\'}\n                  </label>\n                  <div className="grid grid-cols-2 gap-3">\n                    {languages.map((lang) => (\n                      <Button\n                        key={lang.value}\n                        variant={language === lang.value ? \'default\' : \'outline\'}\n                        onClick={() => setLanguage(lang.value as any)}\n                        className="justify-start"\n                      >\n                        <span className="mr-2">{lang.flag}</span>\n                        <span>{lang.label}</span>\n                      </Button>\n                    ))}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Data Management */}\n            <Card>\n              <CardHeader>\n                <CardTitle className="flex items-center gap-2">\n                  <Database className="h-5 w-5" />\n                  {isRTL ? \'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\' : \'Data Management\'}\n                </CardTitle>\n                <CardDescription>\n                  {isRTL ? \'ØªØµØ¯ÙŠØ± ÙˆØ§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨\' : \'Export, import your data and delete account\'}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className="space-y-4">\n                <div className="grid grid-cols-1 md:grid-cols-2 gap-3">\n                  <Button variant="outline" onClick={exportData}>\n                    <Download className="mr-2 h-4 w-4" />\n                    {isRTL ? \'ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\' : \'Export Data\'}\n                  </Button>\n                  <Button variant="outline">\n                    <Upload className="mr-2 h-4 w-4" />\n                    {isRTL ? \'Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\' : \'Import Data\'}\n                  </Button>\n                </div>\n                \n                <div className="pt-4 border-t border-gray-200 dark:border-gray-700">\n                  <Button \n                    variant="destructive" \n                    onClick={() => setShowDeleteModal(true)}\n                  >\n                    <Trash2 className="mr-2 h-4 w-4" />\n                    {isRTL ? \'Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨\' : \'Delete Account\'}\n                  </Button>\n                  <p className="text-sm text-gray-500 dark:text-gray-400 mt-2">\n                    {isRTL \n                      ? \'Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù….\' \n                      : \'This action cannot be undone. All your data will be permanently deleted.\'\n                    }\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Sidebar */}\n          <div className="space-y-6">\n            <Card>\n              <CardHeader>\n                <CardTitle className="text-lg">\n                  {isRTL ? \'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø³Ø±ÙŠØ¹Ø©\' : \'Quick Settings\'}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className="space-y-4">\n                <Button variant="ghost" className="w-full justify-start">\n                  <Bell className="mr-2 h-4 w-4" />\n                  {isRTL ? \'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\' : \'Notifications\'}\n                </Button>\n                <Button variant="ghost" className="w-full justify-start">\n                  <Shield className="mr-2 h-4 w-4" />\n                  {isRTL ? \'Ø§Ù„Ø®ØµÙˆØµÙŠØ©\' : \'Privacy\'}\n                </Button>\n                <Button variant="ghost" className="w-full justify-start">\n                  <Globe className="mr-2 h-4 w-4" />\n                  {isRTL ? \'Ø§Ù„Ø´Ø¨ÙƒØ©\' : \'Network\'}\n                </Button>\n                <Button variant="ghost" className="w-full justify-start">\n                  <RotateCcw className="mr-2 h-4 w-4" />\n                  {isRTL ? \'Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª\' : \'Reset Settings\'}\n                </Button>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className="text-lg">\n                  {isRTL ? \'Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…\' : \'System Status\'}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className="space-y-3">\n                <div className="flex justify-between items-center">\n                  <span className="text-sm">{isRTL ? \'Ø§Ù„Ù†Ø³Ø®Ø©\' : \'Version\'}</span>\n                  <span className="text-sm font-mono">1.0.0</span>\n                </div>\n                <div className="flex justify-between items-center">\n                  <span className="text-sm">{isRTL ? \'Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©\' : \'Storage Used\'}</span>\n                  <span className="text-sm font-mono">2.3 GB</span>\n                </div>\n                <div className="flex justify-between items-center">\n                  <span className="text-sm">{isRTL ? \'Ø¢Ø®Ø± Ù…Ø²Ø§Ù…Ù†Ø©\' : \'Last Sync\'}</span>\n                  <span className="text-sm font-mono">2 min ago</span>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* Password Change Modal */}\n      <Modal\n        isOpen={showPasswordModal}\n        onClose={() => setShowPasswordModal(false)}\n        title={isRTL ? \'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\' : \'Change Password\'}\n      >\n        <div className="space-y-4">\n          <Input\n            label={isRTL ? \'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©\' : \'Current Password\'}\n            type={showPasswords ? \'text\' : \'password\'}\n            value={currentPassword}\n            onChange={(e) => setCurrentPassword(e.target.value)}\n            endIcon={\n              <button\n                onClick={() => setShowPasswords(!showPasswords)}\n                className="text-gray-400 hover:text-gray-600"\n              >\n                {showPasswords ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}\n              </button>\n            }\n          />\n          <Input\n            label={isRTL ? \'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\' : \'New Password\'}\n            type={showPasswords ? \'text\' : \'password\'}\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n          />\n          <Input\n            label={isRTL ? \'ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\' : \'Confirm New Password\'}\n            type={showPasswords ? \'text\' : \'password\'}\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            error={confirmPassword && newPassword !== confirmPassword ? \n              (isRTL ? \'ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©\' : \'Passwords do not match\') : undefined}\n          />\n        </div>\n        \n        <div className="flex justify-end gap-3 mt-6">\n          <Button variant="outline" onClick={() => setShowPasswordModal(false)}>\n            {isRTL ? \'Ø¥Ù„ØºØ§Ø¡\' : \'Cancel\'}\n          </Button>\n          <Button onClick={handlePasswordChange} disabled={!currentPassword || !newPassword || newPassword !== confirmPassword}>\n            {isRTL ? \'ØªØºÙŠÙŠØ±\' : \'Change\'}\n          </Button>\n        </div>\n      </Modal>\n\n      {/* Delete Account Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title={isRTL ? \'Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨\' : \'Delete Account\'}\n      >\n        <div className="space-y-4">\n          <p className="text-gray-700 dark:text-gray-300">\n            {isRTL \n              ? \'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø­Ø³Ø§Ø¨ÙƒØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡ ÙˆØ³ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ ÙÙ‚Ø¯Ø§Ù† Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù….\' \n              : \'Are you sure you want to delete your account? This action cannot be undone and will result in permanent loss of all your data.\'\n            }\n          </p>\n          <Input\n            placeholder={isRTL ? \'Ø§ÙƒØªØ¨ "DELETE" Ù„Ù„ØªØ£ÙƒÙŠØ¯\' : \'Type "DELETE" to confirm\'}\n          />\n        </div>\n        \n        <div className="flex justify-end gap-3 mt-6">\n          <Button variant="outline" onClick={() => setShowDeleteModal(false)}>\n            {isRTL ? \'Ø¥Ù„ØºØ§Ø¡\' : \'Cancel\'}\n          </Button>\n          <Button variant="destructive" onClick={handleAccountDelete}>\n            {isRTL ? \'Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨\' : \'Delete Account\'}\n          </Button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n</create-file>\n</function_calls>'}