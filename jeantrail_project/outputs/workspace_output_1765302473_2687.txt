      console.error('Failed to load background tasks:', error);
    }
  };

  const updateBackgroundTasks = async () => {
    // Update task progress and status
    setBackgroundTasks(prev => prev.map(task => {
      if (task.status === 'running') {
        const progress = Math.min(task.progress + Math.random() * 10, 100);
        return {
          ...task,
          progress,
          status: progress >= 100 ? 'completed' : 'running'
        };
      }
      return task;
    }).filter(task => task.status !== 'completed' || 
      (new Date().getTime() - task.startTime.getTime()) < 30000); // Keep completed tasks for 30 seconds
  });

  const checkConnectionStatus = () => {
    // Simulate connection status changes
    if (Math.random() > 0.95) {
      setConnectionStatus('connecting');
      setTimeout(() => setConnectionStatus('connected'), 1000);
    }
  };

  const sendMessage = async () => {
    if (!inputMessage.trim()) return;

